{"version":3,"sources":["../../src/pages/chat/chat.module.ts","../../src/pages/chat/chat.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;GAEG;AACsC;AACO;AACd;AAalC,IAAa,UAAU;IAAvB;IAAyB,CAAC;IAAD,iBAAC;AAAD,CAAC;AAAb,UAAU;IAXtB,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,uDAAQ;SACT;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;SACnC;QACD,OAAO,EAAE;YACP,uDAAQ;SACT;KACF,CAAC;GACW,UAAU,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AClBmB;AAC0B;AACX;AACe;AACxE;;;;;GAKG;AAMH,IAAa,QAAQ;IAQnB,kBACS,OAAsB,EACtB,SAAoB,EACpB,WAAwB,EACxB,WAAwB;QAHxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAVjC,SAAI,GAAW,EAAE,CAAC;QAClB,aAAQ,GAAU,EAAE,CAAC;QAWnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC3C,0EAA0E;QAC1E,iCAAiC;QACjC,MAAM;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACrC,OAAO,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;SACpC,CAAC,CAAC;IACL,CAAC;IAED,iCAAc,GAAd;QAAA,iBASC;QARG,EAAE,CAAC,CAAE,SAAS,KAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACnD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,iBAAO;YAChE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;IACzC,CAAC;IAED,oCAAiB,GAAjB;QACE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;IAChC,CAAC;IAED,8BAAW,GAAX;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG;YACb,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;YAC7B,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO;SAClC,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IACH,eAAC;AAAD,CAAC;AAjDY,QAAQ;IAJpB,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACG;KACzB,CAAC;yEAU+B;QACX,mEAAS;QACP,yFAAW;QACX,KAAW;AAqClC;SAjDY,QAAQ,e","file":"1.js","sourcesContent":["/**\n * Created by chris on 14/7/2017.\n */\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatPage } from './chat';\n\n@NgModule({\n  declarations: [\n    ChatPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChatPage),\n  ],\n  exports: [\n    ChatPage\n  ]\n})\nexport class ChatModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.module.ts","import { Component } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ChatService } from '../../providers/chat-service/chat-service';\n/**\n * Generated class for the ChatPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n})\nexport class ChatPage {\n\n  user: string = \"\";\n  messages: any[] = [];\n  connection: any;\n  message: any;\n  chatForm: FormGroup;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public formBuilder: FormBuilder,\n    public chatService: ChatService\n  ){\n    this.user = this.navParams.get('username');\n    // this.connection = this.chatService.getMessages().subscribe(message => {\n    //   this.messages.push(message);\n    // });\n    this.chatForm = this.formBuilder.group({\n      message: ['', Validators.required ]\n    });\n  }\n\n  ionViewDidLoad() {\n      if ( undefined  === this.navParams.get('username')) {\n        this.navCtrl.setRoot('HomePage');\n      }\n    this.connection = this.chatService.getMessages().subscribe(message => {\n      console.log(message);\n      this.messages.push(message);\n    });\n    console.log('ionViewDidLoad ChatPage');\n  }\n\n  ionViewWillUnload(){\n    this.connection.unsubscribe();\n  }\n\n  sendMessage() {\n    console.log(this.user.substr(0, 1));\n    this.message = {\n      user: this.user,\n      start: this.user.substr(0, 1),\n      text: this.chatForm.value.message\n    };\n    this.chatService.sendMessage(this.message);\n    this.message = {};\n    this.chatForm.reset();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts"],"sourceRoot":""}